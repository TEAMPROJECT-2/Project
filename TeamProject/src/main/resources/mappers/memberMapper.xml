<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.itwillbs.mappers.memberMapper">

<!-- 회원가입(유저) -->
	<insert id="insertMember">
		INSERT INTO USER_INFO(
					USER_INFO_NUM
				   ,USER_ID
				   ,USER_PASS
				   ,USER_NM
				   ,USER_EMAIL
				   ,USER_GENDER
				   ,USER_ATHLETIC
				   ,USER_NICKNM
				   ,USER_PHONE
				   ,USER_ZIPCODE
				   ,USER_ADDRESS
				   ,USER_ADDRESS_DETAILS
				   ,USER_DATE
				   ,POINT_NUM
				   ,MY_COUPON_NUM
				   ,USER_RANK
				   ,USER_TYPE
             	   ,USER_STATUS
            	   ,USER_LAST_DATE
            	   ,USER_MAIL_AUTH
            	   ,USER_MAIL_KEY

					)
			VALUES(
				    #{userInfoNum}
			  	   ,#{userId}
				   ,#{userPass}
				   ,#{userNm}
				   ,#{userEmail}
				   ,#{userGender}
				   ,#{userAthletic}
				   ,#{userNicknm}
				   ,#{userPhone}
				   ,#{userZipcode}
				   ,#{userAddress}
				   ,#{userAddressDetails}
				   ,#{userDate}
				   ,#{pointNum}
				   ,#{myCouponNum}
				   ,#{userRank}
				   ,#{userType}
				   ,#{userStatus}
				   ,#{userLastDate}
				   ,#{userMailAuth}
				   ,#{userMailKey}
			  		)
	</insert>


<!-- 로그인(유저) -->
	<select id="userCheck" resultType="com.itwillbs.domain.MemberDTO">
		SELECT *
		  FROM USER_INFO
		 WHERE USER_ID=#{userId}
		   AND USER_PASS=#{userPass}
	</select>

	<select id="loginCheck" resultType="com.itwillbs.domain.MemberDTO">
		UPDATE USER_INFO
		   SET USER_LAST_DATE=#{userLastDate}
	</select>



<!-- (유저) -->
	<select id="getMember" resultType="com.itwillbs.domain.MemberDTO">
		SELECT *
		  FROM USER_INFO
		 WHERE USER_ID=#{userId}
	</select>

<!-- 회원가입(업체) -->
	<insert id="insertComp">
	INSERT INTO  COMPANY_INFO(
				 COMPANY_INFO_NUM
				,COMP_ID
	            ,COMP_PASS
	            ,COMP_EMAIL
	            ,COMP_REG_NUM
	            ,COMP_ZIPCODE
	            ,COMP_ADDRESS
				,COMP_ADDRESS_DETAILS
	            ,COMP_PHONE
	            ,COMP_TYPE
	            ,COMP_DATE
				)
		VALUES(
		  		#{COMPANY_INFO_NUM}
			   ,#{COMP_ID}
			   ,#{COMP_PASS}
			   ,#{COMP_EMAIL}
			   ,#{COMP_REG_NUM}
			   ,#{COMP_ZIPCODE}
			   ,#{COMP_ADDRESS}
			   ,#{COMP_ADDRESS_DETAILS}
			   ,#{COMP_PHONE}
			   ,#{COMP_TYPE}
			   ,#{COMP_DATE}
		  		)
	</insert>

	<!-- 로그인(업체) -->
	<select id="compCheck" resultType="com.itwillbs.domain.CompDTO">
		SELECT *
		  FROM COMPANY_INFO
		 WHERE COMP_ID=#{compId}
		   AND COMP_PASS=#{compPass}
	</select>

</mapper>